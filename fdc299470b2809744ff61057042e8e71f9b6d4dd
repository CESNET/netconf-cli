{
  "comments": [
    {
      "key": {
        "uuid": "337e4813_73d78679",
        "filename": "src/sysrepo_access.cpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-12-04T12:19:34Z",
      "side": 1,
      "message": "And is that a correct thing to do? What is the difference between sr_get_submodule_schema and sr_get_schema?",
      "revId": "fdc299470b2809744ff61057042e8e71f9b6d4dd",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79fe144e_4fe8ce3d",
        "filename": "src/sysrepo_access.cpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-12-04T12:46:14Z",
      "side": 1,
      "message": "The difference is that sr_get_submodule_schema can either fetch the latest revision of a submodule or fetch a specific revision of it (supplied by an argument). sr_get_schema can also fetch submodules if I specify the submodule_name argument and in that case, it will give me the revision that\u0027s written in the parent module (I\u0027m not 100% sure about this). So, sr_get_schema can only fetch submodules in the context of a parent module. sr_get_submodule_schema can be used to fetch arbitrary revision of any submodule.\n\nI could probably use sr_get_submodule_schema, but since I always fetch submodules in the context of a module, I would say that using sr_get_schema is appropriate here.",
      "parentUuid": "337e4813_73d78679",
      "revId": "fdc299470b2809744ff61057042e8e71f9b6d4dd",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a4f1c3b_c40e23c4",
        "filename": "src/sysrepo_access.cpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-12-04T12:55:02Z",
      "side": 1,
      "message": "I\u0027ve been looking through the code, and it seems that sysrepo eventually calls ly_ctx_get_submodule which can also takes submodule_revision as an argument:\n[in]\tsub_revision\tOptional revision date of submodule. If NULL, the newest revision of submodule is returned.\n\nIf this function is really called with the sub_revision I pass to it (that\u0027s always nullptr right now), that would mean sr_get_schema fetches the latest revision of the submodule and NOT the revision that\u0027s included in the main module. So, two options: just use sr_get_submodule_schema when fetching a submodule (that would also mean implementing it in the C++ bindings, because it doesn\u0027t exist there AFAIK), or, ask on Github, what I should use and if how exactly does sr_get_schema behave when used with submodule_name argument.",
      "parentUuid": "79fe144e_4fe8ce3d",
      "revId": "fdc299470b2809744ff61057042e8e71f9b6d4dd",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5c65cc8_fcd8c4f3",
        "filename": "src/sysrepo_access.cpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-12-04T13:01:55Z",
      "side": 1,
      "message": "I think it\u0027s due time to ask upstream, you\u0027ve already done more than your homework here, IMHO.",
      "parentUuid": "0a4f1c3b_c40e23c4",
      "revId": "fdc299470b2809744ff61057042e8e71f9b6d4dd",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7021af1d_f38cb3b6",
        "filename": "src/sysrepo_access.cpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-12-06T13:16:48Z",
      "side": 1,
      "message": "https://github.com/sysrepo/sysrepo/issues/1695\n\nOkay, sr_get_schema really does give the correct revision specified in the main module. I could still use sr_get_submodule_schema if I REALLY don\u0027t want to believe sysrepo will give me the correct revision, but, since I get the main schema from there anyway, I don\u0027t think there really is a reason. It might make the code clearer though. Clarity is very important when dealing with foreign libraries.",
      "parentUuid": "f5c65cc8_fcd8c4f3",
      "revId": "fdc299470b2809744ff61057042e8e71f9b6d4dd",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    }
  ]
}